<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:ital,wght@0,300;0,400;0,700;1,300&family=Roboto+Mono&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./index.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <title>Focus on Focus | Harris Schneiderman</title>
</head>
<body>
  <div id="wrapper">
    <header id="header" tabindex="-1">
      <h1>Focus on <span>focus</span></h1>
      <h2><em>How to manage focus in modern web applications</em></h2>
      <h2>Harris Schneiderman</h2>
      <div class="tooltip-wrapper">
        <em>
          <a href="#" id="what-is-focus" aria-describedby="tooltip">
            What is focus?
          </a>
        </em>
        <div id="tooltip" class="tooltip hidden">
          The control within a web page that receives input from the keyboard
        </div>
      </div>
      <a href="#example-1" class="next-section">
        <span>Example 1: same page links</span>
        <i class="fa-solid fa-angle-down"></i>
      </a>
    </header>
    <main>
      <section id="example-1" tabindex="-1" aria-labelledby="example-1-heading">
        <h3 id="example-1-heading">Example 1: same page links</h3>
        <p>
          Clicking the above &quot;Example 1: in-page links&quot; link shifted focus to this section.
          This is built-in functionality in modern browsers accomplished using an anchor tag with an
          <code>href</code> that points at a section's </code>id</code>.
        </p>
          <pre><code>&lt;a href=&quot;#section-1&quot;&gt;
  jump to section 1
&lt;a&gt;
&lt;section id=&quot;section-1&quot; tabindex=&quot;-1&quot;&gt;
&lt;/section&gt;</code></pre>
        <em>Look ma, no javascript!</em>
        <a href="#example-2" class="next-section">
          <span>Example 2: element removed</span>
          <i class="fa-solid fa-angle-down"></i>
        </a>
      </section>
      <section id="example-2" tabindex="-1" aria-labelledby="example-2-heading">
        <h3 id="example-2-heading">Example 2: element removed</h3>
        <p>When a focused element is removed from the page, focus is brought to the body element which starts the user back at the top of the page.
          This can can cause confusing and annoying experiences for keyboard-only users.
        </p>
        <p>For dynamic applications that allow users to delete items from the page, focus needs to be retained to avoid this.</p>
        <p>There are usually many &quot;right&quot; answers. It depends on the context.</p>
        <div class="block" tabindex="-1">
          <div class="row">
            <label id="item-1-label" for="item-1">Item 1</label>
            <input id="item-1" type="text">
            <button id="delete-1" aria-labelledby="delete-1 item-1-label">
              <i aria-hidden="true" class="fa-solid fa-trash"></i>
              <span>delete</span>
            </button>
            <pre><code>nextRow.focus()</code></pre>
          </div>
          <div class="row" tabindex="-1">
            <label id="item-2-label" for="item-2">Item 2</label>
            <input id="item-2" type="text">
            <button id="delete-2" aria-labelledby="delete-2 item-2-label">
              <i aria-hidden="true" class="fa-solid fa-trash"></i>
              <span>delete</span>
            </button>
            <pre><code>nextDelete.focus()</code></pre>
          </div>
          <div class="row">
            <label id="item-3-label" for="item-3">Item 3</label>
            <input id="item-3" type="text">
            <button id="delete-3" aria-labelledby="delete-3 item-3-label">
              <i aria-hidden="true" class="fa-solid fa-trash"></i>
              <span>delete</span>
            </button>
            <pre><code>nextInput.focus()</code></pre>
          </div>
          <div class="row">
            <label id="item-4-label" for="item-4">Item 4</label>
            <input id="item-4" type="text">
            <button id="delete-4" aria-labelledby="delete-4 item-4-label">
              <i aria-hidden="true" class="fa-solid fa-trash"></i>
              <span>delete</span>
            </button>
            <pre><code>emptyMsg.focus()</code></pre>
          </div>
        </div>
        <a href="#example-3" class="next-section">
          <span>Example 3: element added</span>
          <i class="fa-solid fa-angle-down"></i>
        </a>
      </section>
      <section id="example-3" tabindex="-1" aria-labelledby="example-3-heading">
        <h3 id="example-3-heading">Example 3: element added</h3>
        <p>When a new element is added to the page based on user-interaction, focus should be brought to the new element.</p>
        <p>Similar to the above removal examples, where focus should go specifically depends on what the user is performing...</p>
        <div class="block">
          <div class="row">
            <button>
              <i class="fa-solid fa-plus"></i>
              <span>Add new item</span>
            </button>
            <pre><code>newItem.focus()</code></pre>
          </div>
          <div class="row hidden" role="region" tabindex="-1" aria-labelledby="new-item-heading">
            <h4 id="new-item-heading">New item</h4>
            <p>I get focused when added to the page!</p>
          </div>
        </div>
        <a href="#example-4" class="next-section">
          <span>Example 4: modal dialog</span>
          <i class="fa-solid fa-angle-down"></i>
        </a>
      </section>
      <section id="example-4" tabindex="-1" aria-labelledby="example-4-heading">
        <h3 id="example-4-heading">Example 4: modal dialog</h3>
        <p>Modal dialogs require quite a few considerations when it comes to focus...</p>
        <ul>
          <li class="row">Shift focus to modal when trigger is clicked <pre><code>modal.focus()</code></pre></li>
          <li class="row">Trap focus within modal <pre><code>modal.addEventListener('keydown')</code></pre></li>
          <li class="row">When closed, return focus to the trigger which launched it <pre><code>trigger.focus()</code></pre></li>
        </ul>
        <div>
          <button id="modal-launcher">
            Launch modal
          </button>
        </div>
        <a href="#example-5" class="next-section">
          <span>Example 5: SPA navigation</span>
          <i class="fa-solid fa-angle-down"></i>
        </a>
      </section>
      <section id="example-5" tabindex="-1" aria-labelledby="example-5-heading">
        <h3 id="example-5-heading">Example 5: single page app (SPA) navigation</h3>
        <p>Many modern web applications are single page applications or &quot;SPAs&quot;.</p>
        <p>SPAs are applications which do not trigger a full page load when navigating from one page to another.</p>
        <p>Focus should be brought somewhere logical when a new page in the app is loaded.</p>
        <pre>
          <code>h1.focus()</code>
        </pre>
        <a href="#new-page" id="new-page-link">Go to new page</a>
        <a href="#example-6" class="next-section">
          <span>Example 6: loading state</span>
          <i class="fa-solid fa-angle-down"></i>
        </a>
      </section>
      <section id="example-6" tabindex="-1" aria-labelledby="example-6-heading">
        <h3 id="example-6-heading">Example 6: loading state</h3>
        <p>
          You might've caught this in the previous example...
          For asynchronous transitions from one state to another,
          the loading state needs to be exposed to screen reader users.
          One way of doing so, is to bring focus to the loading text
          and returning it somewhere logical once loading is complete.
        </p>
        <pre><code>loader.focus()</code></pre>
        <br />
        <button id="loader-trigger">
          <i class="fa-solid fa-spinner"></i>&nbsp;
          Trigger loading state
        </button>
        <a href="#example-7" class="next-section">
          <span>Example 7: notifications</span>
          <i class="fa-solid fa-angle-down"></i>
        </a>
      </section>
      <section id="example-7" tabindex="-1" aria-labelledby="example-7-heading">
        <h3 id="example-7-heading">Example 7: notifications</h3>
        <p>
          Similar to loading states, notifications need to be exposed to screen
          reader users. In certain cases, these notifications should receive focus
          to ensure this information is announced. In other cases, like when a user
          is in the middle of performing a task, focus should not be stolen and instead
          <code>role="alert"</code> should be used which triggers a live region announcement
          to the user without having to shift focus anywhere.
        </p>
        <pre><code>notification.focus()</code></pre>
        <br />
        <button id="trigger-notification">
          Trigger notification
        </button>
        <div class="notification hidden" tabindex="-1">
          <i aria-hidden="true" class="fa-solid fa-info"></i>&nbsp;
          Your progress has been saved&nbsp;
          <button aria-label="Dismiss" class="dismiss">
            <i aria-hidden="true" class="fa-solid fa-times"></i>
          </button>
        </div>
        <a href="#header" class="next-section">
          <span>Back to top</span>
          <i aria-hidden="true" class="fa-solid fa-angle-up"></i>
        </a>
      </section>
    </main>
    <footer>
      <p>Thanks for listening! <i class="fa-solid fa-hand-peace"></i></p>
      <p><a href="https://github.com/schne324/focus-retention-talk">
        <i class="fa-brands fa-github"></i>&nbsp;
        View on GitHub
      </a></p>
    </footer>
  </div>
  <div class="modal hidden" role="dialog" aria-labelledby="modal-heading" tabindex="-1">
    <h2 id="modal-heading">Dialog title</h2>
    <p>Dialog content...</p>
    <button>close</button>
  </div>
  <div id="spa-page" class="hidden">
    <h1 tabindex="-1">New page</h1>
    <p>This is a new page loaded. Focusing the main content or the h1 is a good idea here.</p>
    <p>Some even go as far as triggering an offscreen live region announcement that a new page has loaded</p>
    <a href="#example-5" id="back">
      <i class="fa-solid fa-backward" aria-hidden="true"></i>
      <span>Go back</span>
    </a>
  </div>
  <div class="loader hidden">
    <div tabindex="-1" class="hang-tight__sliding-bars" role="progressbar" aria-valuetext="Loading" aria-busy="true" aria-valuemin="0" aria-valuemax="100" aria-describedby="sliding-bars-loading-text ">
      <span id="sliding-bars-loading-text">Loading...</span>
    </div>
  </div>
  <script src="index.js"></script>
</body>
</html>
